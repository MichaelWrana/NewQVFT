{% extends "base.html" %}
{% set active_page = "/home" %}

{% block page_css %}
<style>
    body, html, main {
        scroll-snap-type: y mandatory;
        margin-top:0;
        font-family: 'Comfortaa', cursive;
    }
    section{
        scroll-snap-align: start;
        scroll-padding: 10px;
        height:100vh;
        width:100%;
        padding-top:60px;
        display:flex;
        justify-content: center;
        align-items: center;
        overflow:hidden;
    }
    #landing-image{
        background-image:url("{{ url_for('static', filename='images/farm-bg.jpg') }}");
        background-size: cover;
        background-position: center;
        scroll-snap-align: start;
    }
    .summary-card {
        background: linear-gradient(to left, white 50%, var(--theme-color) 50%) right;
        background-size: 200%;
        transition: .3s ease-out;
        border: none;
    }
    .summary-card:hover{
        color: #fff;
        background-position: left;
    }
    #knowledge-description {
        background-color: var(--theme-color);
        color:#fff;
    }
    #knowledge-image{
        background-image: url("{{ url_for('static', filename='images/knowledge.png') }}");
        background-size: cover;
        background-position: center;
    }
    #aeroponic-image{
        background-image: url("{{ url_for('static', filename='images/aeroponic-bg.webp') }}");
        background-size: cover;
        background-position: center;
    }
    .plant-image{
        opacity:0;
        transition:all 1s;
    }
    #aeroponic-description{
        background-color:rgba(0, 0, 0, .7)
    }
    #aeroponic-image:hover .plant-image{
        opacity: 100;
    }
    .zoom {
        transition: 0.3s ease-in-out;
    }
    .zoom:hover {
        transform: scale(1.1);
    }
</style>
{% endblock %}

{% block content %}

<div class="d-flex vh-100 justify-content-center align-items-center" id="landing-image">
    <img src="{{ url_for('static', filename='images/icons/logo-white.webp') }}" class="img-fluid w-25">
</div>
<main role="main">
    <section>
        <div class="container">
            <h1>The Queen's Vertical Farming Team</h1>
            <div class="p-md-4"></div>
            <p>QVFT is Canada's first undergraduate engineering team of its kind. Recognizing this rapidly emerging industry, QVFT is designing and building a functional, software-automated aeroponic vertical farm on Queen's University campus. Our 25 alumni and 13 current members come from diverse academic disciplines and represent all four years of study.</p>
            <div class="p-md-4"></div>
            <div class="row justify-content-around text-center">
                <div class="col-sm-12 col-md-4 col-lg-3">
                    <div class="summary-card rounded p-2 my-2 ">
                        <div class="row">
                            <div class="col-3 col-md-12">
                                <img src="{{ url_for('static', filename='images/icons/vertical-farming.png') }}" class="img-fluid w-100 p-md-3">
                            </div>
                            <div class="col-9 col-md-12 d-flex align-items-center justify-content-center">
                                <h5>Aeroponic Farming</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 col-lg-3">
                    <div class="summary-card rounded p-2 my-2">
                        <div class="row">
                            <div class="col-3 col-md-12">
                                <img src="{{ url_for('static', filename='images/icons/shovels.png') }}" class="img-fluid w-100 p-md-3">
                            </div>
                            <div class="col-9 col-md-12 d-flex align-items-center justify-content-center">
                                <h5>Premium Produce</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 col-md-4 col-lg-3">
                    <div class="summary-card rounded p-2 my-2">
                        <div class="row">
                            <div class="col-3 col-md-12">
                                <img src="{{ url_for('static', filename='images/icons/farmer.png') }}" class="img-fluid w-100 p-md-3">
                            </div>
                            <div class="col-9 col-md-12 d-flex align-items-center justify-content-center">
                                <h5>Dedicated Growers</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="row bg-dark vh-100">
            <div class="col-12 col-sm-6" id="knowledge-image"></div>
            <div class="col-12 col-sm-6 d-flex align-items-center justify-content-center" id="knowledge-description">
                <div class="p-3">
                <h3>Knowledge, For Everyone</h3>
                <p>The majority of existing research in this field is conducted privately and is thus inaccessible to the public.  Through its open-source approach, QVFT aims to democratize vertical farming knowledge and research. </p>
                </div>
            </div>
        </div>
    </section>
 
    <section>
        <div class="row justify-content-center rounded align-items-center vh-100" id="aeroponic-image">
            <div class="col-12 col-md-8 my-5 p-3 text-light" id="aeroponic-description">
                <div class="p-3">
                    <h3>Aeroponic System</h3>
                    QVFT employs an aeroponic cultivation method, in which plants grow without soil and are fed by a nutrient-enriched mist. Crops rest in thin, plastic root cups, through which their roots hang into a basin below. Aeroponic vertical farming lends well to automation and can allow for near- complete control over the plant growth environment.
                    <br>
                    <button class="btn btn-outline-light mt-2" onclick="location.href='/about';">Read More</button>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <h1>Our partners</h1>
            <div class="row justify-content-center px-5 pt-4">
                {% for partner in partner_data %}
                <div class="col-8 col-sm-5">
                    <a href="{{partner.url}}">
                        <img src="{{ url_for('static', filename=partner.img) }}" class="img-fluid zoom">
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
</main>
{% endblock%}


{% block page_js %}
<script>
    $(".navbar").removeClass("navbar-light bg-light");
    $(".navbar").addClass("navbar-dark");
    $("#navbar-btn").removeClass("btn-outline-dark");
    $("#navbar-btn").addClass("btn-outline-light");

    $(window).scroll(function() {    
        var scroll = $(window).scrollTop();

        //>=, not <=
        if (scroll >= $(".vh-100").height()-80) {
            //clearHeader, not clearheader - caps H
            $(".navbar").addClass("navbar-light bg-light");
            $(".navbar").removeClass("navbar-dark");
            $("#navbar-btn").removeClass("btn-outline-light");
            $("#navbar-btn").addClass("btn-outline-dark");
        }
        else if (scroll < $(".vh-100").height()-80){
            $(".navbar").removeClass("navbar-light bg-light");
            $(".navbar").addClass("navbar-dark");
            $("#navbar-btn").removeClass("btn-outline-dark");
            $("#navbar-btn").addClass("btn-outline-light");
        }
    });
</script>
{% endblock%}